FROM node:22-bookworm-slim

WORKDIR /app

# Install required runtime dependencies directly
RUN npm init -y && \
    npm install --omit=dev \
      react \
      react-dom \
      react-scripts \
      axios \
      react-markdown \
      remark-gfm \
      dompurify \
      react-router-dom

# Copy your frontend source code
COPY . .

CMD ["npm", "start"]
